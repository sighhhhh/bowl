{
  "version": "3.19.0",
  "description": "Quark Cloud Drive",
  "homepage": "https://www.quark.cn/",
  "license": "Proprietary",
  "architecture": {
    "64bit": {
      "url": "https://pdds-c1-cdn.quark.cn/82-4/stfile/2503/6c4d40b9f324e9d0773c7127c88271db/QuarkCloudDrive_v3.19.0_release_%28Build2135311-20250327222033%29.exe?auth_key=1749527910-0-0-0b86e2a1981048e9a03f568e693b887c&SESSID=73e4321d5a4e241ab3c73496c7f0bafc&ext=uc.exe",
      "hash": "F1DF9E4B1CF57108C72D6E77854E6A7F0CF23886191D15EF0C4177936C6C3A47", // 请确保此哈希与实际下载文件一致
      "extract_dir": "quark-cloud-drive", // 一级目录名，与安装后嵌套目录的第一层一致
      "pre_install": [], // 禁用预安装脚本，避免路径冲突
      "installer": {
        "script": [
          "# 手动安装模式：启动安装程序并等待用户完成，路径需与下载文件完全一致",
          "$exe = Join-Path $dir 'QuarkCloudDrive_v3.19.0_release_(Build2135311-20250327222033).exe'", // 完整文件名（含URL编码字符）
          "Start-Process -FilePath $exe -Wait -NoNewWindow" // 弹出安装界面，手动完成安装
        ]
      },
      "uninstaller": {
        "script": [
          "# 直接指定卸载程序的深层路径",
          "$uninstallerPath = Join-Path $dir 'quark-cloud-drive/unins000.exe'", // 嵌套路径中的卸载程序
          "if (Test-Path $uninstallerPath) {",
          "  Start-Process -FilePath $uninstallerPath -ArgumentList '/S' -Wait", // 若支持静默卸载
          "} else {",
          "  Write-Warning '未找到卸载程序，尝试通过注册表卸载'",
          "  $uninstaller = Get-ItemProperty HKLM:\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\* | Where-Object { $_.DisplayName -eq 'Quark Cloud Drive' } | Select-Object -ExpandProperty UninstallString",
          "  if ($uninstaller) { Start-Process -FilePath $uninstaller -Wait }",
          "}"
        ]
      }
    }
  },
  "bin": [
    "quark-cloud-drive/QuarkCloudDrive.exe" // 相对于应用目录的深层路径：apps/[app]/[version]/quark-cloud-drive/QuarkCloudDrive.exe
  ],
  "shortcuts": [
    [
      "quark-cloud-drive/QuarkCloudDrive.exe", // 路径需与bin一致
      "Quark Cloud Drive",
      "Desktop", // 可选：指定快捷方式位置（Desktop/StartMenu）
      "Quark Cloud Drive.lnk" // 可选：指定快捷方式名称
    ]
  ],
  "checkver": {
    "url": "https://www.quark.cn/download",
    "re": "Quark Cloud Drive ([\\d.]+)"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://pdds-c1-cdn.quark.cn/82-4/stfile/2503/6c4d40b9f324e9d0773c7127c88271db/QuarkCloudDrive_v$version_release_%28Build*%29.exe?auth_key=1749527910-0-0-0b86e2a1981048e9a03f568e693b887c&SESSID=73e4321d5a4e241ab3c73496c7f0bafc&ext=uc.exe"
      }
    }
  }
}